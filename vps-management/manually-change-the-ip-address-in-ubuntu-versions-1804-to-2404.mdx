---
title: "Manually Update IPv4 Settings on Ubuntu (18.04–24.04)"
sidebarTitle: "* Ubuntu IP Change"
description: "Adjust the IPv4 address, gateway, or add secondary addresses on Ubuntu VPS instances hosted with EDBB using Netplan." 
---

Changing the public IPv4 address inside Ubuntu does not require a reinstall.  
This guide walks through the process for Ubuntu 18.04, 20.04, 22.04, and 24.04 using **Netplan**, the default network configuration tool across those releases.

---

## 1. Gather Network Details

- Sign in to the [EDBB VPS Portal](https://my.edbb.com) and open the VPS card.  
- Note the IPv4 address, subnet mask (prefix), gateway, and DNS servers listed under **IP Settings**.  
- If you plan to add multiple addresses, decide which ones should be primary versus secondary.

<Info>
Keep the portal tab open—you may need to reference the gateway or revert changes quickly.
</Info>

---

## 2. Open a Console Session

- Connect via SSH if the current IP is still reachable, or use the [VNC console](https://docs.edbb.com/vps-management/enable-vnc-server) from the portal for out-of-band access.  
- Once logged in, confirm the active network interface:

```bash
ip link show
```

Typical interface names include `ens3`, `ens18`, or `eth0`—note the correct value for later steps.

---

## 3. Review Existing Netplan Files

Netplan configuration lives in `/etc/netplan/`. List the files to identify the one in use:

```bash
ls /etc/netplan/
```

Common filenames are `50-cloud-init.yaml` or `01-netcfg.yaml`. Open the appropriate file with your editor of choice:

```bash
sudo nano /etc/netplan/50-cloud-init.yaml
```

<Note>
If the file name differs, adjust the command accordingly.
</Note>

---

## 4. Update IPv4 Addresses and Routes

Inside the YAML file:

1. Locate the `addresses` list beneath your interface. Replace the existing entry with the new primary IP using CIDR notation, for example `203.0.113.10/24`.
2. Update the `gateway4` value so it matches the IPv4 gateway from the portal.  
3. Add or update DNS servers under `nameservers`:

```yaml
eth0:
  addresses:
    - 203.0.113.10/24
    - 203.0.113.11/24   # optional secondary
  gateway4: 203.0.113.1
  nameservers:
    addresses:
      - 203.0.113.2
      - 8.8.8.8
```

Maintain proper indentation—YAML is sensitive to spacing.

---

## 5. Apply and Validate

1. Save the file and exit the editor.  
2. Test the configuration with Netplan’s dry-run command:

```bash
sudo netplan try
```

If the preview succeeds, press **Enter** to accept. Otherwise, Netplan will roll back automatically.  

3. Apply the configuration persistently:

```bash
sudo netplan apply
```

4. Confirm the new settings:

```bash
ip addr show dev eth0
ip route show default
```

Replace `eth0` with your interface name if required.

---

## 6. Connectivity Checks

- Ping the gateway and a public host to verify routing:

```bash
ping -c 3 203.0.113.1
ping -c 3 edbb.com
```

- If the SSH session was interrupted, reconnect using the new IPv4 address.  
- Once confirmed, disable the VNC console in the portal to close the out-of-band session.

---

## Tips for Smooth Transitions

- Keep a backup copy of the original Netplan file (`cp 50-cloud-init.yaml 50-cloud-init.yaml.bak`) before editing.  
- When configuring multiple addresses, designate the primary IP as the first entry so the system uses it for outbound traffic.  
- Update firewall rules and application bindings to match the new IP if necessary.  
- Document the change for your internal records, noting the date and the person who performed the update.

With these steps complete, your Ubuntu VPS now uses the updated IPv4 configuration provided by EDBB.
